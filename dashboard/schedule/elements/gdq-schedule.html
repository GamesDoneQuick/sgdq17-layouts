<link rel="import" href="../../components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../components/iron-icons/iron-icons.html">
<link rel="import" href="../../components/nodecg-toast/nodecg-toast.html">
<link rel="import" href="../../components/nodecg-typeahead-input/nodecg-typeahead-input.html">
<link rel="import" href="../../components/paper-button/paper-button.html">
<link rel="import" href="gdq-schedule-runinfo.html">

<dom-module id="gdq-schedule">
	<template>
		<style>
			:host {
				@apply(--layout-vertical);
			}

			#selection-ctrls {
				@apply(--layout-horizontal);
				@apply(--layout-start);
				margin-bottom: 16px;
			}

			#selection-ctrls > paper-button {
				@apply(--layout-flex);
			}

			#typeahead-container {
				@apply(--layout-vertical);
				@apply(--layout-end);
			}

			#typeahead {
				width: 240px;
				margin-top: -26px;
			}

			#take {
				font-size: 14px;
				height: 24px;
				padding-right: 0;
			}

			#runs {
				@apply(--layout-horizontal);
			}

			#runs-spacer {
				width: 24px;
			}

			#edit-ctrls {
				@apply(--layout-horizontal);
				margin-top: 32px;
			}

			#previous,
			#editCurrent {
				margin-left: 0;
			}

			#next,
			#editNext {
				margin-right: 0;
			}

			#editCurrent,
			#editNext {
				@apply(--layout-flex-3);
			}

			#fetchLatestSchedule {
				@apply(--layout-flex-6);
			}

			paper-button {
				@apply(--layout-horizontal);
				@apply(--layout-center-center);
			}

			gdq-schedule-runinfo {
				/* lol */
				width: 253px;
			}

			gdq-schedule-runinfo:last-of-type {
				--gdq-schedule-runinfo-color: #5f5f5f;
			}
		</style>

		<nodecg-toast id="toast"></nodecg-toast>

		<div id="selection-ctrls">
			<paper-button id="previous" class="nodecg-info" on-tap="previous" raised>
				<iron-icon icon="arrow-back"></iron-icon>
				Prev
			</paper-button>

			<div id="typeahead-container">
				<nodecg-typeahead-input id="typeahead" max-suggestions="3" placeholder="Search" raised
										on-keyup="_typeaheadKeyup"></nodecg-typeahead-input>

				<paper-button id="take" class="nodecg-success" on-tap="takeTypeahead" raised>
					<span>Take</span>
					<iron-icon icon="chevron-right"></iron-icon>
				</paper-button>
			</div>

			<paper-button id="next" class="nodecg-info" on-tap="next" raised>
				Next
				<iron-icon icon="arrow-forward"></iron-icon>
			</paper-button>
		</div>

		<div id="runs">
			<gdq-schedule-runinfo id="currentRun" label="Current Run"></gdq-schedule-runinfo>
			<div id="runs-spacer"></div>
			<gdq-schedule-runinfo id="nextRun" label="Next Run"></gdq-schedule-runinfo>
		</div>

		<div id="edit-ctrls">
			<paper-button id="editCurrent" class="nodecg-configure" raised on-tap="editCurrent">EDIT CURRENT</paper-button>
			<paper-button id="fetchLatestSchedule" raised on-tap="fetchLatestSchedule">FETCH LATEST SCHEDULE</paper-button>
			<paper-button id="editNext" class="nodecg-configure" raised on-tap="editNext">EDIT NEXT</paper-button>
		</div>
	</template>

	<script src="gdq-schedule.js"></script>
</dom-module>
